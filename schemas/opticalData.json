{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://raw.githubusercontent.com/building-envelope-data/api/v1.0.0/schemas/opticalData.json",
  "title": "optical data",
  "description": "Optical data sets of building envelope components. It shall be possible to exchange the results of all important optical measurements and simulations. At the same time, this general format is intended to limit the number of possible representations of one data set to make it easy to develop software which interprets the data correctly.",
  "$defs": {
    "data": {
      "title": "Optical data",
      "description": "Optical `data` as an array of optical `dataPoints` with their `componentCharacteristics`. An additional property can be added for `serverSpecific` data.",
      "type": "object",
      "properties": {
        "data": {
          "title": "Optical data",
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "componentCharacteristics": {
                "$ref": "#/$defs/componentCharacteristics",
                "description": "Component characteristics that are identical for all data points of this object."
              },
              "dataPoints": {
                "title": "Optical data points. They provide the `results` for a given `incidence` and emergence`.",
                "type": "array",
                "items": {
                  "$ref": "#/$defs/dataPoint"
                },
                "minItems": 1
              }
            },
            "additionalProperties": false,
            "required": [
              "dataPoints"
            ]
          },
          "minItems": 1
        },
        "serverSpecific": {
          "title": "server-specific data",
          "$ref": "#/$defs/serverSpecific"
        }
      },
      "additionalProperties": false,
      "required": [
        "data"
      ]
    },
    "dataPoint": {
      "title": "Measured or calculated optical `results` for an `incidence` and `emergence`",
      "description": "An optical data point consists of a definition of the incident radiation, the component characteristics, the emergent radiation, and the optical results.",
      "type": "object",
      "properties": {
        "incidence": {
          "$ref": "#/$defs/incidence",
          "title": "Incident radiation",
          "description": "Incident radiation on the component."
        },
        "emergence": {
          "$ref": "#/$defs/emergence",
          "title": "Emergent radiation",
          "description": "Radiation that emerges from the component."
        }
      },
      "if": {
        "properties": {
          "incidence": {
            "type": "object",
            "properties": {
              "wavelengths": {
                "type": "object",
                "properties": {
                  "integral": {
                    "const": "visible"
                  }
                }
              }
            }
          }
        }
      },
      "then": {
        "properties": {
          "results": {
            "$ref": "#/$defs/resultsWithColor",
            "title": "Results with color",
            "description": "For example transmittance, reflectance and the color."
          }
        },
        "required": [
          "results"
        ]
      },
      "else": {
        "properties": {
          "results": {
            "$ref": "#/$defs/results",
            "title": "Results",
            "description": "For example transmittance and reflectance."
          }
        },
        "required": [
          "results"
        ]
      },
      "unevaluatedProperties": false,
      "required": [
        "incidence",
        "emergence",
        "results"
      ]
    },
    "componentCharacteristics": {
      "title": "Component characteristics",
      "description": "Parameters for optical measurements and simulations.",
      "type": "object",
      "properties": {
        "treatmentBefore": {
          "$ref": "common.json#/$defs/reference",
          "title": "Treatment before",
          "description": "Treatment performed on the sample before measurement."
        },
        "locationOnSample": {
          "$ref": "common.json#/$defs/reference",
          "title": "Location on sample",
          "description": "Location of measurement on the sample."
        },
        "polarizationSensitivity": {
          "$ref": "common.json#/$defs/reference",
          "title": "Polarization sensitivity",
          "description": "Polarization sensitivity of the receiver of the optical measurement."
        },
        "instrumentSignature": {
          "$ref": "number.json#/$defs/nonNegativeNumber",
          "title": "Instrument signature",
          "description": "Mean scatter level detected when there is no sample scatter present."
        },
        "normalization": {
          "type": "string",
          "enum": [
            "absolute",
            "relative",
            "specular",
            "diffuseReflectance"
          ],
          "title": "Normalization",
          "description": "Normalization methods absolute, relative, specular, and diffuse reflectance as standardized in [ASTM E2387-05(2011), Standard Practice for Goniometric Optical Scatter Measurements, ASTM International, West Conshohocken, PA, 2011, www.astm.org](https://www.astm.org/DATABASE.CART/HISTORICAL/E2387-05R11.htm)."
        },
        "referenceSample": {
          "$ref": "common.json#/$defs/reference",
          "title": "Reference sample",
          "description": "Reference sample on which the optical measurement depends."
        },
        "spot": {
          "$ref": "common.json#/$defs/reference",
          "title": "Spot",
          "description": "Size and profile of the irradiance on the sample."
        },
        "symmetries": {
          "title": "Choose between the general symmetries `mirror`, `rotationalDependingOnAzimuth` and `mirrorAndRotational` and their important special cases `azimuthalAngleInvariance` and `profileAngle`.",
          "type": "string",
          "enum": [
            "azimuthalAngleInvariance",
            "profileAngle",
            "mirror",
            "rotationalDependingOnAzimuth",
            "mirrorAndRotational"
          ],
          "description": "(i) `azimuthalAngleInvariance` means that the optical results depend only on the polar angle and not on the azimuth angle. Many homogeneous materials like glass panes have an `azimuthalAngleInvariance`. (ii) `profileAngle` symmetry means the results are the same for all directions of incidence which have the same profile angle. The profile angle is the projection of the altitude angle of the incidence on a vertical plane which is perpendicular to the surface of the sample. (iii) In the case of a `mirror` symmetry, the results for one half of the possible directions of incidence are enough to determine also the results for the other half of the possible directions of incidence because the second half is a mirror image of the first half. However, if the optical results depend only on the profile angle, use `profileAngle` instead of `mirror`! (iv) `rotationalDependingOnAzimuth` means that for example one quarter of the hemisphere is enough to describe the whole hemisphere because the optical results for the other quarters can be obtained by rotating the results for the first quarter around the axis perpendicular to the sample. However, if the optical results depend only on the polar angle and not on the azimuth angle, use `azimuthalAngleInvariance` instead of `rotationalDependingOnAzimuth`! (v) `mirrorAndRotational` requires a mirror and a rotational symmetry. Mirror symmetry means that the results for one half of the possible directions of incidence are enough to determine also the results for the other half of the possible directions of incidence because the second half is a mirror image of the first half. Rotational symmetry means that for example one quarter of the hemisphere is enough to describe the whole hemisphere because the optical results for the other quarters can be obtained by rotating the results for the first quarter around the axis perpendicular to the sample. However, if the optical results depend only on the profile angle, use `profileAngle` instead of `mirrorAndRotational`! If the optical results depend only on the polar angle and not on the azimuth angle, use `azimuthalAngleInvariance` instead of `rotationalDependingOnAzimuth`!"
        },
        "surface": {
          "$ref": "component.json#/$defs/surface",
          "description": "Defines which surface is irradiated"
        },
        "switchableLayers": {
          "$ref": "common.json#/$defs/switchableLayers",
          "description": "Defines the state of switchable layers."
        }
      },
      "additionalProperties": false,
      "minProperties": 1,
      "required": []
    },
    "polarization": {
      "title": "Polarization",
      "description": "Polarization is a characteristic of radiation which in general influences transmittance and reflectance. Radiation can be polarized linearly and circularly.",
      "oneOf": [
        {
          "title": "Linear polarization",
          "type": "object",
          "properties": {
            "s": {
              "$ref": "number.json#/$defs/numberWithUncertainty",
              "description": "Fraction of radiation with electric field perpendicular to the plane of incidence of the radiation on the sample. It is in theory between `0` and `1` inclusive. However, in measurement data because of uncertainty it is between `0 - uncertainty` and `1 + uncertainty` inclusive."
            },
            "p": {
              "$ref": "number.json#/$defs/numberWithUncertainty",
              "description": "Fraction of radiation with electric field parallel to the plane of incidence of the radiation on the sample. It is in theory between `0` and `1` inclusive. However, in measurement data because of uncertainty it is between `0 - uncertainty` and `1 + uncertainty` inclusive."
            }
          },
          "additionalProperties": false,
          "required": [
            "s",
            "p"
          ]
        },
        {
          "title": "Circular polarization",
          "description": "`leftHanded` means that the radiation is circularly polarized and rotates in a left-hand sense with respect to the direction of radiation. `rightHanded` means that the radiation is circularly polarized and rotates in a right-hand sense with respect to the direction of radiation.",
          "type": "string",
          "enum": [
            "leftHanded",
            "rightHanded"
          ]
        }
      ]
    },
    "wavelengthUncertainty": {
      "title": "Bandwidth and/or amplification factor",
      "description": "Bandwidth and/or amplification factor of measuring a single wavelength or of measuring an entire spectrum of wavelengths at the same time.",
      "type": "object",
      "properties": {
        "bandwidth": {
          "$ref": "number.json#/$defs/nanometer",
          "title": "Bandwidth",
          "description": "Range of wavelengths around a center wavelength. This range can be interpreted as the uncertainty of the center wavelength. It is often easier to determine the amplification factor instead."
        },
        "amplificationFactor": {
          "$ref": "number.json#/$defs/nonNegativeNumberWithUncertainty",
          "title": "Amplification factor",
          "description": "Measure of the uncertainty of the center wavelength. It is often easier to determine than the bandwidth."
        }
      },
      "additionalProperties": false,
      "minProperties": 1
    },
    "wavelengthsIntegral": {
      "title": "Integral over wavelengths",
      "description": "Tells that the corresponding result is an integral with a certain spectrum over wavelengths.",
      "type": "object",
      "properties": {
        "integral": {
          "type": "string",
          "enum": [
            "infrared",
            "solar",
            "ultraviolet",
            "visible",
            "other"
          ],
          "description": "Spectrum over which the integral result was measured or calculated. `ultraviolet`, `visible`, `solar` and `infrared` indicate the range of the wavelengths used for the integral values. Details about the spectrum are provided by the method which has been applied to generate the data set. `visible` is also known as `photopic`. `infrared` is also known as `thermal_ir`. If neither `ultraviolet`, `visible`, `solar` and `infrared` describe the spectrum correctly, `other` indicates that all information about the spectrum is provided by the applied method."
        }
      },
      "additionalProperties": false,
      "required": [
        "integral"
      ]
    },
    "transmittance": {
      "$ref": "number.json#/$defs/numberWithUncertaintyOrString",
      "description": "Transmittance is the ratio between the irradiance transmitted through the sample and the irradiance on the sample. In theory it is between `0` and `1` inclusive. However, in practice, it may be less than `0` or greater than `1` for example due to measurement uncertainty."
    },
    "reflectance": {
      "$ref": "number.json#/$defs/numberWithUncertaintyOrString",
      "description": "Reflectance is the ratio between the irradiance reflected by the sample and the irradiance on the sample. In theory it is between `0` and `1` inclusive. However, in practice, it may be less than `0` or greater than `1` for example due to measurement uncertainty."
    },
    "absorptanceEmittance": {
      "$ref": "number.json#/$defs/numberWithUncertainty",
      "description": "Absorptance is the ratio between the irradiance absorbed by the sample and the irradiance on the sample. Emittance is the ratio of the radiant emittance of heat of the component to that of a standard black body. For the same 'wavelengths', absorptance is equal to emittance. For the same 'incidence', 'variables', and 'emergence', the absorptance-emittance value is equal to `1 - transmittance - reflectance`."
    },
    "incidenceDirection": {
      "title": "Incidence direction",
      "description": "Direction of incident radiation on sample. An incidence angle of 10° or less as defined in the technical report [CIE 130-1998, Practical methods for the measurement of reflectance and transmittance](http://cie.co.at/publications/practical-methods-measurement-reflectance-and-transmittance) is called 'nearnormal' and said to be 'almost perpendicular'.",
      "oneOf": [
        {
          "description": "Direction of incidence in a spherical coordinate system according to [ISO 80000-2:2019, Quantities and units - Part 2: Mathematics](https://www.iso.org/standard/64973.html).",
          "type": "object",
          "properties": {
            "polar": {
              "$ref": "number.json#/$defs/degreeBetweenZeroAndNinetyWithUncertainty",
              "description": "The polar angle is the angle between the direction of incidence and an axis which is perpendicular to the surface of the sample. It can have values between 0° and 90°. A polar angle of 0° means that the direction of incidence is perpendicular to the sample. A polar angle of 90° means that the direction of incidence is parallel to the sample. If the sample has `azimuthalAngleInvariance`, then the optical results depend only on the polar angle and not on the azimuth angle. If the sample has a `profileAngle` symmetry whose direction is equal to the prime direction, then the profile angle can be calculated from the polar and azimuth angles."
            },
            "azimuth": {
              "$ref": "number.json#/$defs/degreeBetweenZeroAndThreeHundredSixtyWithUncertainty",
              "description": "The direction of incidence is projected onto the plane of the surface of the sample. The azimuth is the angle between this projection and the prime direction defined at `#/$defs/componentCharacteristics/properties/prime/properties/direction`. It can have values between 0° and 360°. If we look at the sample as if it was a clock, the prime direction being 12 o'clock and the projection 11 o'clock, then the azimuth equals 30° because of the right-handed coordinate system of [ISO 80000-2:2019, Quantities and units - Part 2: Mathematics](https://www.iso.org/standard/64973.html)."
            }
          },
          "additionalProperties": false,
          "required": [
            "polar"
          ]
        },
        {
          "title": "Hemispherical",
          "description": "Incidence arrives from all directions of the hemisphere on the sample surface.",
          "type": "string",
          "const": "hemispherical"
        }
      ]
    },
    "emergenceDirection": {
      "title": "Emergence direction",
      "description": "Direction of emergent radiation from a sample. An polar angle of 10° or less as defined in the technical report [CIE 130-1998, Practical methods for the measurement of reflectance and transmittance](http://cie.co.at/publications/practical-methods-measurement-reflectance-and-transmittance) is called 'nearnormal' and said to be 'almost perpendicular'.",
      "oneOf": [
        {
          "description": "Direction of emergence in a spherical coordinate system according to [ISO 80000-2:2019, Quantities and units - Part 2: Mathematics](https://www.iso.org/standard/64973.html).",
          "type": "object",
          "properties": {
            "polar": {
              "$ref": "number.json#/$defs/degreeWithUncertainty",
              "description": "The polar angle is the angle between the direction of emergence and an axis which is perpendicular to the surface of the sample. It can have values between 0° and 90°. A polar angle of 0° means that the direction of emergence is perpendicular to the sample. A polar angle of 90° means that the direction of emergence is parallel to the sample. If the sample has `azimuthalAngleInvariance`, then the optical results depend only on the polar angle and not on the azimuth angle. If the sample has a `profileAngle` symmetry whose direction is equal to the prime direction, then the profile angle can be calculated from the polar and azimuth angles."
            },
            "azimuth": {
              "$ref": "number.json#/$defs/degreeWithUncertainty",
              "description": "The direction of emergence is projected to the plane of the surface of the sample. The azimuth is the angle between this projection and the prime direction defined at `#/$defs/componentCharacteristics/properties/prime/properties/direction`. It can have values between 0° and 360°. If we look at the sample as if it was a clock, the prime direction being 12 o'clock and the projection 11 o'clock, then the azimuth equals 30° because of the right-handed coordinate system of [ISO 80000-2:2019, Quantities and units - Part 2: Mathematics](https://www.iso.org/standard/64973.html)."
            }
          },
          "additionalProperties": false,
          "required": [
            "polar"
          ]
        },
        {
          "title": "Diffuse or hemispherical",
          "description": "(i) Diffuse means all directions with an emergence angle greater than 10°. (ii) Hemispherical means all directions to the hemisphere above the sample surface. Both are used when the emergence in many directions is treated as a sum.",
          "type": "string",
          "enum": [
            "diffuse",
            "hemispherical"
          ]
        }
      ]
    },
    "uncertainWavelength": {
      "title": "Uncertain wavelength",
      "type": "object",
      "properties": {
        "wavelength": {
          "$ref": "number.json#/$defs/nanometer",
          "description": "One wavelength in nanometers. If necessary, its uncertainty can be specified with `uncertainty`."
        },
        "uncertainty": {
          "$ref": "#/$defs/wavelengthUncertainty"
        }
      },
      "additionalProperties": false,
      "required": [
        "wavelength"
      ]
    },
    "wavelengths": {
      "title": "Wavelengths of radiation",
      "description": "Either one wavelength, possibly with uncertainty, or an integral over many wavelengths.",
      "oneOf": [
        {
          "$ref": "#/$defs/uncertainWavelength"
        },
        {
          "$ref": "#/$defs/wavelengthsIntegral"
        }
      ]
    },
    "incidence": {
      "title": "Incident radiation",
      "description": "Incident radiation on a sample. It consists of the direction of irradiance, polarization, wavelengths and range of wavelengths.",
      "type": "object",
      "properties": {
        "direction": {
          "$ref": "#/$defs/incidenceDirection"
        },
        "wavelengths": {
          "$ref": "#/$defs/wavelengths",
          "description": "Wavelengths of the optical data regardless of whether the incidence or the emergence was split into smaller spectra."
        },
        "polarization": {
          "$ref": "#/$defs/polarization",
          "description": "The polarization of the optical data regardless of whether the incidence or the emergence polarized."
        }
      },
      "additionalProperties": false,
      "required": [
        "direction",
        "wavelengths"
      ]
    },
    "emergence": {
      "title": "Emergent radiation",
      "description": "Emergent radiation from a sample. It is characterized by its direction.",
      "type": "object",
      "properties": {
        "direction": {
          "$ref": "#/$defs/emergenceDirection"
        }
      },
      "additionalProperties": false,
      "required": [
        "direction"
      ]
    },
    "results": {
      "title": "Measurement or simulation results",
      "type": "object",
      "properties": {
        "transmittance": {
          "$ref": "#/$defs/transmittance"
        },
        "reflectance": {
          "$ref": "#/$defs/reflectance"
        },
        "absorptanceEmittance": {
          "$ref": "#/$defs/absorptanceEmittance"
        }
      },
      "additionalProperties": false,
      "required": [],
      "minProperties": 1
    },
    "resultsWithColor": {
      "title": "Measurement or simulation results including color",
      "description": "For the visible spectrum, the color can be be defined in addition to transmittance, reflectance and absorptanceEmittance",
      "type": "object",
      "properties": {
        "transmittance": {
          "$ref": "#/$defs/transmittance"
        },
        "colorTransmittance": {
          "$ref": "#/$defs/colorTransmittance"
        },
        "reflectance": {
          "$ref": "#/$defs/reflectance"
        },
        "colorReflectance": {
          "$ref": "#/$defs/colorReflectance"
        },
        "absorptanceEmittance": {
          "$ref": "#/$defs/absorptanceEmittance"
        }
      },
      "additionalProperties": false,
      "required": [],
      "minProperties": 1
    },
    "colorTransmittance": {
      "title": "Color characterization of the irradiance transmitted through a component",
      "description": "The color of the transmitted irradiance can be characterized in different ways, for example with the CIELAB Color Space and the Color Rendering Index.",
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "description": "The name of the color in common language"
        },
        "cielabColors": {
          "type": "array",
          "items": {
            "$ref": "#/$defs/cielabColor"
          },
          "uniqueItems": true,
          "minItems": 1
        },
        "colorRenderingIndices": {
          "type": "array",
          "items": {
            "$ref": "#/$defs/colorRenderingIndex"
          },
          "uniqueItems": true,
          "minItems": 1
        }
      },
      "additionalProperties": false,
      "required": [],
      "minProperties": 1
    },
    "colorReflectance": {
      "title": "Color characterization of the irradiance reflected by a component",
      "description": "The color of the reflected irradiance can be characterized in different ways, for example with the CIELAB Color Space.",
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "description": "The name of the color in common language"
        },
        "cielabColors": {
          "type": "array",
          "items": {
            "$ref": "#/$defs/cielabColor"
          },
          "uniqueItems": true,
          "minItems": 1
        }
      },
      "additionalProperties": false,
      "required": [],
      "minProperties": 1
    },
    "cielabColor": {
      "title": "The three color coordinates L* (lStar), a* (aStar) and b* (bStar) defined by the International Commission on Illumination (CIE) define the color which is reflected by a component or transmitted through a component.",
      "type": "object",
      "properties": {
        "lStar": {
          "$ref": "number.json#/$defs/numberBetweenZeroAndOneHundredWithUncertainty",
          "description": "L* (lStar) defines the lightness of the color."
        },
        "aStar": {
          "$ref": "number.json#/$defs/numberWithUncertainty",
          "description": "a* (aStar) defines the color between green and red."
        },
        "bStar": {
          "$ref": "number.json#/$defs/numberWithUncertainty",
          "description": "b* (bStar) defines the color between blue and yellow."
        },
        "observer": {
          "$ref": "#/$defs/observer",
          "description": "`twoDegrees` equals the CIE 1931 standard colorimetric observer. `tenDegrees` equals the CIE 1964 standard colorimetric observer. The observers differ in the solid angle which they consider."
        },
        "illuminant": {
          "$ref": "#/$defs/illuminant",
          "description": "The illuminant which is used to determine the color coordinates. `A` equals the CIE standard illuminant A. `D65` equals the CIE standard illuminant D65."
        }
      },
      "additionalProperties": false,
      "required": [
        "lStar",
        "aStar",
        "bStar"
      ]
    },
    "colorRenderingIndex": {
      "title": "The Color Rendering Index (CRI) indicates how well the transmitted radiation matches daylight regarding the rendering of colors. `Ra` or `ra` considers one transmission of the building envelope. `Raout-in` or `raOutIn` considers two transmissions of the building envelope.",
      "oneOf": [
        {
          "type": "object",
          "properties": {
            "ra": {
              "$ref": "number.json#/$defs/numberBetweenZeroAndOneHundredWithUncertainty",
              "description": "The Color Rendering Index as it is defined by EN 410 based on CIE 13. 3-1995, Method of Measuring and Specifying Colour Rendering Properties of Light Sources, 1995, ISBN: 9783900734572. It indicates how well colors are rendered after one transmission of the building envelope. For example, how the color of an object inside a building is perceived from within the building."
            },
            "observer": {
              "$ref": "#/$defs/observer",
              "description": "`twoDegrees` equals the CIE 1931 standard colorimetric observer. `tenDegrees` equals the CIE 1964 standard colorimetric observer. The observers differ in the solid angle which they consider."
            },
            "illuminant": {
              "$ref": "#/$defs/illuminant",
              "description": "The illuminant which is used to determine the color coordinates. `A` equals the CIE standard illuminant A. `D65` equals the CIE standard illuminant D65."
            }
          },
          "additionalProperties": false,
          "required": [
            "ra"
          ]
        },
        {
          "type": "object",
          "properties": {
            "raOutIn": {
              "$ref": "number.json#/$defs/numberBetweenZeroAndOneHundredWithUncertainty",
              "description": "The Color Rendering Index `Raout-in` or `raOutIn` is defined by T.E. Kuhn, H.R. Wilson, J. Hanek, M. Santamouris, Ra out-in Color rendering of objects in a daylit room viewed from outdoors, Energy and Buildings 118 (2016) 93–98, https://doi.org/10.1016/j.enbuild.2016.02.019. It indicates how well colors are rendered after two transmissions of the building envelope. For example, how the color of an object inside the building is perceived from the outside."
            },
            "observer": {
              "$ref": "#/$defs/observer",
              "description": "`twoDegrees` equals the CIE 1931 standard colorimetric observer. `tenDegrees` equals the CIE 1964 standard colorimetric observer. The observers differ in the solid angle which they consider."
            },
            "illuminant": {
              "$ref": "#/$defs/illuminant",
              "description": "The illuminant which is used to determine the color coordinates. `A` equals the CIE standard illuminant A. `D65` equals the CIE standard illuminant D65."
            }
          },
          "additionalProperties": false,
          "required": [
            "raOutIn"
          ]
        }
      ]
    },
    "observer": {
      "type": "string",
      "enum": [
        "twoDegrees",
        "tenDegrees"
      ],
      "description": "`twoDegrees` equals the CIE 1931 standard colorimetric observer. `tenDegrees` equals the CIE 1964 standard colorimetric observer. The observers differ in the solid angle which they consider."
    },
    "illuminant": {
      "type": "string",
      "enum": [
        "A",
        "D65"
      ],
      "description": "The illuminant which is used to determine the color coordinates. `A` equals the CIE standard illuminant A. `D65` equals the CIE standard illuminant D65."
    },
    "serverSpecific": {
      "title": "Data which is specific for a product data server and exceeds the structure of `#/$defs/dataPoint`.",
      "type": "object",
      "properties": {
        "igsdb": {
          "title": "Data specific for the International Glazing and Shading Database (IGSDB) of Lawrence Berkeley National Laboratory (LBNL, Berkeley Lab)",
          "$ref": "#/$defs/igsdb"
        }
      },
      "additionalProperties": false,
      "minProperties": 1,
      "required": []
    },
    "igsdb": {
      "description": "This data is in development and subject to change. When the scope of `#/$defs/dataPoint` extends, data will move from this `server-specific` key to the key `dataPoints`. The following keys have been specific for IGSDB and are now part of `database.graphql`: `type`, `subtype`, `name`, `manufacturer_name` and `component_id`. The following keys have been specific for IGSDB and are now part of `dataPoints`: `emissivity_front`, `emissivity_back`, `tir_front`, `tir_back`, `solar`, `photopic`, `thermal_ir`, `wavelength_data`.",
      "type": "object",
      "properties": {
        "id": {
          "$ref": "number.json#/$defs/stringOrNull"
        },
        "token": {
          "$ref": "number.json#/$defs/stringOrNull"
        },
        "historicalTokens": {
          "type": "array",
          "items": {
            "$ref": "number.json#/$defs/stringOrNull"
          }
        },
        "marketingName": {
          "$ref": "number.json#/$defs/stringOrNull"
        },
        "nfrcId": {
          "$ref": "number.json#/$defs/integerOrNull"
        },
        "igdbId": {
          "$ref": "number.json#/$defs/integerOrNull"
        },
        "cgdbId": {
          "$ref": "number.json#/$defs/integerOrNull"
        },
        "mdbTimeCreated": {
          "$ref": "number.json#/$defs/stringOrNull"
        },
        "igdbDatabaseVersion": {
          "$ref": "number.json#/$defs/stringOrNull"
        },
        "cgdbDatabaseVersion": {
          "$ref": "number.json#/$defs/stringOrNull"
        },
        "acceptance": {
          "$ref": "number.json#/$defs/stringOrNull",
          "enum": [
            "#",
            "@",
            ""
          ]
        },
        "reference": {
          "type": "boolean"
        },
        "appearance": {
          "$ref": "number.json#/$defs/stringOrNull"
        },
        "hidden": {
          "type": "boolean"
        },
        "ownerName": {
          "$ref": "number.json#/$defs/stringOrNull"
        },
        "dataFileName": {
          "$ref": "number.json#/$defs/stringOrNull"
        },
        "dataFileType": {
          "type": "string",
          "enum": [
            "IGDB_LEGACY_SUBMISSION_FILE",
            "CGDB_LEGACY_SUBMISSION_FILE",
            "SPD",
            "SPREADSHEET",
            "OTHER",
            "BSDF_XML",
            "THERM"
          ],
          "description": "BSDF_XML and THERM are 'legacy' file types that were used in the old IGDB database to describe shading types like roller shade and roman/pleated/cellular shades."
        },
        "dataFileAvailable": {
          "type": "boolean"
        },
        "shortDescription": {
          "$ref": "number.json#/$defs/stringOrNull"
        },
        "deconstructable": {
          "type": "boolean"
        },
        "coatingName": {
          "$ref": "number.json#/$defs/stringOrNull"
        },
        "coatingId": {
          "$ref": "number.json#/$defs/integerOrNull"
        },
        "coatedSide": {
          "type": "string",
          "enum": [
            "MULTIPLE",
            "FRONT",
            "BACK",
            "BOTH",
            "EMBEDDED",
            "NEITHER",
            "UNKNOWN",
            "NA"
          ],
          "description": "`MULTIPLE` means = embedded and either front or back or both front and back. `NA` means `not applicable`."
        },
        "igdbChecksum": {
          "$ref": "number.json#/$defs/integerOrNull"
        },
        "cgdbChecksum": {
          "$ref": "number.json#/$defs/integerOrNull"
        },
        "checksumDate": {
          "$ref": "number.json#/$defs/stringOrNull"
        },
        "window8ApplicationType": {
          "$ref": "number.json#/$defs/stringOrNull"
        },
        "productDetailFiles": {
          "type": "array",
          "items": {
            "type": "string",
            "enum": [
              "GEN_BSDF_XML",
              "BSDF_XML",
              "THMX",
              "TOLERANCE",
              "OTHER"
            ],
            "description": "`TOLERANCE` means `Tolerance Report`."
          }
        },
        "composition": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "id": {
                "$ref": "number.json#/$defs/stringOrNull"
              },
              "created": {
                "$ref": "number.json#/$defs/stringOrNull"
              },
              "updated": {
                "$ref": "number.json#/$defs/stringOrNull"
              },
              "index": {
                "$ref": "number.json#/$defs/stringOrNull"
              },
              "parentProduct": {
                "$ref": "number.json#/$defs/stringOrNull"
              },
              "childProduct": {
                "$ref": "number.json#/$defs/stringOrNull"
              },
              "compositionDetails": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "flipped": {
                      "type": "boolean"
                    },
                    "thickness": {
                      "$ref": "number.json#/$defs/numberOrNull"
                    },
                    "layerFilename": {
                      "$ref": "number.json#/$defs/stringOrNull"
                    },
                    "coatingId": {
                      "$ref": "number.json#/$defs/stringOrNull"
                    },
                    "coatingName": {
                      "$ref": "number.json#/$defs/stringOrNull"
                    },
                    "coatedSideFacesExterior": {
                      "type": "boolean"
                    }
                  },
                  "additionalProperties": false,
                  "minProperties": 1,
                  "required": []
                },
                "minItems": 1
              }
            },
            "additionalProperties": false,
            "minProperties": 1,
            "required": []
          }
        },
        "integratedSpectralAveragesSummaries": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "calculationStandard": {
                "$ref": "number.json#/$defs/stringOrNull"
              },
              "source": {
                "$ref": "number.json#/$defs/stringOrNull"
              },
              "sourceVersion": {
                "$ref": "number.json#/$defs/stringOrNull"
              },
              "opticalcPywincalcVersion": {
                "$ref": "number.json#/$defs/stringOrNull"
              },
              "spf": {
                "$ref": "#/$defs/integratedSpectralAverageOpticalResultsIgsdb"
              },
              "tdw": {
                "$ref": "#/$defs/integratedSpectralAverageOpticalResultsIgsdb"
              },
              "tkr": {
                "$ref": "#/$defs/integratedSpectralAverageOpticalResultsIgsdb"
              },
              "tuv": {
                "$ref": "#/$defs/integratedSpectralAverageOpticalResultsIgsdb"
              },
              "color": {
                "type": "object",
                "properties": {
                  "reflectanceBack": {
                    "$ref": "#/$defs/colorTransmittanceReflectanceIgsdb"
                  },
                  "reflectanceFront": {
                    "$ref": "#/$defs/colorTransmittanceReflectanceIgsdb"
                  },
                  "transmittanceBack": {
                    "$ref": "#/$defs/colorTransmittanceReflectanceIgsdb"
                  },
                  "transmittanceFront": {
                    "$ref": "#/$defs/colorTransmittanceReflectanceIgsdb"
                  }
                },
                "additionalProperties": false,
                "minProperties": 1,
                "required": []
              }
            },
            "additionalProperties": false,
            "minProperties": 1,
            "required": []
          },
          "minItems": 1
        },
        "geometricProperties": {
          "oneOf": [
            {
              "$ref": "#/$defs/perforatedScreenGeometry"
            },
            {
              "$ref": "#/$defs/wovenShadeGeometry"
            },
            {
              "$ref": "#/$defs/blindGeometry"
            },
            {
              "type": "null"
            }
          ]
        },
        "material": {
          "$ref": "number.json#/$defs/stringOrNull"
        },
        "materialBulkProperties": {
          "type": "object",
          "properties": {
            "name": {
              "$ref": "number.json#/$defs/stringOrNull"
            },
            "version": {
              "$ref": "number.json#/$defs/integerOrNull"
            },
            "conductivity": {
              "$ref": "number.json#/$defs/stringOrNull"
            },
            "youngsModulus": {
              "$ref": "number.json#/$defs/numberOrNull"
            },
            "poissonsRatio": {
              "$ref": "number.json#/$defs/numberOrNull"
            },
            "elasticity": {
              "$ref": "number.json#/$defs/numberOrNull"
            },
            "moistureProperties": {
              "$ref": "number.json#/$defs/stringOrNull"
            }
          },
          "additionalProperties": false,
          "minProperties": 1,
          "required": []
        },
        "extraData": {
          "type": "object",
          "properties": {},
          "additionalProperties": true,
          "required": []
        },
        "physicalProperties": {
          "type": "object",
          "properties": {
            "isSpecular": {
              "type": "boolean"
            },
            "thickness": {
              "$ref": "number.json#/$defs/numberOrNull"
            },
            "predefinedEmissivityFront": {
              "$ref": "number.json#/$defs/numberOrNull"
            },
            "predefinedEmissivityBack": {
              "$ref": "number.json#/$defs/numberOrNull"
            },
            "predefinedTirFront": {
              "$ref": "number.json#/$defs/numberOrNull"
            },
            "predefinedTirBack": {
              "$ref": "number.json#/$defs/numberOrNull"
            },
            "permeabilityFactor": {
              "$ref": "number.json#/$defs/numberOrNull"
            },
            "bulkPropertiesOverride": {
              "type": "object",
              "properties": {
                "conductivity": {
                  "$ref": "number.json#/$defs/stringOrNull"
                }
              },
              "additionalProperties": false,
              "minProperties": 1,
              "required": []
            },
            "opticalProperties": {
              "type": "object",
              "properties": {
                "opticalDataType": {
                  "type": "string",
                  "enum": [
                    "DISCRETE",
                    "BAND"
                  ]
                },
                "incidenceAngularResolutionType": {
                  "type": "string",
                  "enum": [
                    "DIRECT",
                    "BSDF"
                  ]
                },
                "outgoingAngularResolutionType": {
                  "type": "string",
                  "enum": [
                    "DIRECT",
                    "DIFFUSE",
                    "DIRECT_DIFFUSE",
                    "BSDF"
                  ]
                },
                "opticalData": {
                  "type": "object",
                  "properties": {
                    "angleBlocks": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "incidenceAngle": {
                            "$ref": "number.json#/$defs/numberOrNull"
                          },
                          "numberWavelengths": {
                            "$ref": "number.json#/$defs/numberOrNull"
                          }
                        },
                        "additionalProperties": false,
                        "minProperties": 1,
                        "required": []
                      },
                      "minItems": 1
                    },
                    "numberIncidenceAngles": {
                      "$ref": "number.json#/$defs/integerOrNull"
                    }
                  },
                  "additionalProperties": false,
                  "minProperties": 1,
                  "required": []
                }
              },
              "additionalProperties": false,
              "minProperties": 1,
              "required": []
            }
          },
          "additionalProperties": false,
          "minProperties": 1,
          "required": []
        }
      },
      "additionalProperties": false,
      "minProperties": 1,
      "required": []
    },
    "integratedSpectralAverageOpticalResultsIgsdb": {
      "type": "object",
      "properties": {
        "error": {
          "$ref": "number.json#/$defs/stringOrNull"
        },
        "reflectanceBack": {
          "$ref": "#/$defs/integratedSpectralAverageTransmittanceReflectanceIgsdb"
        },
        "reflectanceFront": {
          "$ref": "#/$defs/integratedSpectralAverageTransmittanceReflectanceIgsdb"
        },
        "transmittanceBack": {
          "$ref": "#/$defs/integratedSpectralAverageTransmittanceReflectanceIgsdb"
        },
        "transmittanceFront": {
          "$ref": "#/$defs/integratedSpectralAverageTransmittanceReflectanceIgsdb"
        },
        "absorptanceBackDirect": {
          "$ref": "number.json#/$defs/stringOrNull"
        },
        "absorptanceFrontDirect": {
          "$ref": "number.json#/$defs/stringOrNull"
        },
        "absorptanceBackHemispheric": {
          "$ref": "number.json#/$defs/stringOrNull"
        },
        "absorptanceFrontHemispheric": {
          "$ref": "number.json#/$defs/stringOrNull"
        }
      },
      "additionalProperties": false,
      "minProperties": 1,
      "required": []
    },
    "integratedSpectralAverageTransmittanceReflectanceIgsdb": {
      "type": "object",
      "properties": {
        "matrix": {
          "$ref": "number.json#/$defs/stringOrNull"
        },
        "directDirect": {
          "$ref": "number.json#/$defs/stringOrNull"
        },
        "directDiffuse": {
          "$ref": "number.json#/$defs/stringOrNull"
        },
        "diffuseDiffuse": {
          "$ref": "number.json#/$defs/stringOrNull"
        },
        "directHemispherical": {
          "$ref": "number.json#/$defs/stringOrNull"
        }
      },
      "additionalProperties": false,
      "minProperties": 1,
      "required": []
    },
    "colorTransmittanceReflectanceIgsdb": {
      "type": "object",
      "properties": {
        "directDirect": {
          "$ref": "#/$defs/colorsIgsdb"
        },
        "directDiffuse": {
          "$ref": "#/$defs/colorsIgsdb"
        },
        "diffuseDiffuse": {
          "$ref": "#/$defs/colorsIgsdb"
        },
        "directHemispherical": {
          "$ref": "#/$defs/colorsIgsdb"
        }
      },
      "additionalProperties": false,
      "minProperties": 1,
      "required": []
    },
    "colorsIgsdb": {
      "type": "object",
      "properties": {
        "lab": {
          "type": "object",
          "properties": {
            "a": {
              "$ref": "number.json#/$defs/numberOrNull"
            },
            "b": {
              "$ref": "number.json#/$defs/numberOrNull"
            },
            "l": {
              "$ref": "number.json#/$defs/numberOrNull"
            }
          },
          "additionalProperties": false,
          "minProperties": 1,
          "required": []
        },
        "rgb": {
          "type": "object",
          "properties": {
            "b": {
              "$ref": "number.json#/$defs/numberOrNull"
            },
            "g": {
              "$ref": "number.json#/$defs/numberOrNull"
            },
            "r": {
              "$ref": "number.json#/$defs/numberOrNull"
            }
          },
          "additionalProperties": false,
          "minProperties": 1,
          "required": []
        },
        "trichromatic": {
          "type": "object",
          "properties": {
            "x": {
              "$ref": "number.json#/$defs/numberOrNull"
            },
            "y": {
              "$ref": "number.json#/$defs/numberOrNull"
            },
            "z": {
              "$ref": "number.json#/$defs/numberOrNull"
            }
          },
          "additionalProperties": false,
          "minProperties": 1,
          "required": []
        }
      },
      "additionalProperties": false,
      "minProperties": 1,
      "required": []
    },
    "perforatedScreenGeometry": {
      "type": "object",
      "properties": {
        "type": {
          "type": "string",
          "enum": [
            "circular",
            "square",
            "rectangle"
          ],
          "description": "Defines the geometric properties of a perforated screen. Type indicates shape of perforations. 0: `circular`, 1: `square`,2: `rectangle`."
        },
        "dimX": {
          "$ref": "number.json#/$defs/numberOrNull",
          "description": "dimX is the radius if `type`: `circular`."
        },
        "dimY": {
          "$ref": "number.json#/$defs/numberOrNull",
          "description": "dimY is not used if `type` is `circular` or `square`."
        },
        "spacingX": {
          "$ref": "number.json#/$defs/numberOrNull"
        },
        "spacingY": {
          "$ref": "number.json#/$defs/numberOrNull"
        }
      },
      "additionalProperties": false,
      "minProperties": 1,
      "required": []
    },
    "wovenShadeGeometry": {
      "type": "object",
      "properties": {
        "threadDiameter": {
          "$ref": "number.json#/$defs/stringOrNull"
        },
        "threadSpacing": {
          "$ref": "number.json#/$defs/stringOrNull"
        },
        "shadeThickness": {
          "$ref": "number.json#/$defs/stringOrNull"
        }
      },
      "additionalProperties": false,
      "minProperties": 1,
      "required": []
    },
    "blindGeometry": {
      "title": "Geometry definition for venetian blinds",
      "type": "object",
      "properties": {
        "rise": {
          "$ref": "number.json#/$defs/stringOrNull"
        },
        "slatWidth": {
          "$ref": "number.json#/$defs/stringOrNull",
          "description": "Units: mm"
        },
        "slatSpacing": {
          "$ref": "number.json#/$defs/stringOrNull",
          "description": "Units: mm"
        },
        "slatCurvature": {
          "$ref": "number.json#/$defs/stringOrNull",
          "description": "Units: mm"
        },
        "slatTilt": {
          "$ref": "number.json#/$defs/stringOrNull",
          "description": "Units: degrees"
        },
        "numberSegments": {
          "$ref": "number.json#/$defs/integerOrNull",
          "description": "Segments are used to represent curvature (Defaults to 5)."
        },
        "tiltChoice": {
          "$ref": "number.json#/$defs/stringOrNull",
          "description": "Value can be an integer or string like `CUSTOM`, so declaring this field as str."
        }
      },
      "additionalProperties": false,
      "minProperties": 1,
      "required": []
    }
  },
  "$ref": "#/$defs/data"
}